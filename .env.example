# ============================================
# DramaGen AI 环境变量配置
# ============================================

# --------------------------------------------
# 应用基础配置
# --------------------------------------------
NODE_ENV=development
PORT=3000

# Next.js 公开配置（客户端可访问）
NEXT_PUBLIC_APP_URL=http://localhost:3000

# --------------------------------------------
# Gemini 3 API 配置（视频分析）
# --------------------------------------------
# Gemini API Key（从 Google AI Studio 获取）
GEMINI_API_KEY=your-gemini-api-key-here

# 或使用 yunwu.ai 代理（推荐国内用户）
YUNWU_API_ENDPOINT=https://yunwu.ai/api/v1
YUNWU_API_KEY=your-yunwu-api-key-here

# Gemini 模型配置
GEMINI_MODEL=gemini-2.5-flash-exp
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=8192

# 视频分析配置
GEMINI_VIDEO_MAX_DURATION_SECONDS=600
GEMINI_VIDEO_SAMPLE_FRAME_COUNT=30

# --------------------------------------------
# ElevenLabs API 配置（TTS 语音合成）
# --------------------------------------------
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here
ELEVENLABS_API_ENDPOINT=https://api.elevenlabs.io/v1

# 默认语音配置
ELEVENLABS_DEFAULT_VOICE=eleven_multilingual_v2
ELEVENLABS_DEFAULT_MODEL=eleven_multilingual_v2

# 音频输出配置
ELEVENLABS_OUTPUT_FORMAT=mp3_44100_128
ELEVENLABS_STABILITY=0.5
ELEVENLABS_SIMILARITY_BOOST=0.75

# --------------------------------------------
# 数据库配置（SQLite）
# --------------------------------------------
DATABASE_URL=./data/database.sqlite

# --------------------------------------------
# 文件存储路径配置
# --------------------------------------------
# 开发环境使用相对路径，生产环境使用绝对路径
UPLOAD_DIR=./uploads
RAW_ASSETS_DIR=./raw_assets
PROCESSED_DIR=./processed
OUTPUT_DIR=./outputs
TEMP_DIR=./temp

# --------------------------------------------
# FFmpeg 配置
# --------------------------------------------
FFMPEG_PATH=ffmpeg
FFPROBE_PATH=ffprobe

# 视频处理默认配置
DEFAULT_VIDEO_FPS=30
DEFAULT_VIDEO_CRF=18
DEFAULT_VIDEO_PRESET=fast
DEFAULT_AUDIO_BITRATE=128k

# --------------------------------------------
# 任务队列配置（BullMQ + Redis）
# --------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# 任务并发配置
MAX_CONCURRENT_JOBS=3
JOB_RETRY_ATTEMPTS=3
JOB_RETRY_DELAY=5000

# --------------------------------------------
# WebSocket / SSE 配置
# --------------------------------------------
WS_PORT=3001
WS_HEARTBEAT_INTERVAL=30000

# --------------------------------------------
# 日志配置
# --------------------------------------------
LOG_LEVEL=debug
LOG_DIR=./logs
LOG_MAX_FILES=7
LOG_MAX_SIZE=10M

# --------------------------------------------
# 安全配置
# --------------------------------------------
# JWT 密钥（用于生成随机 token，建议使用 openssl rand -base64 32）
JWT_SECRET=your-jwt-secret-key-change-this-in-production

# API 速率限制
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# --------------------------------------------
# 第三方服务（可选）
# --------------------------------------------
# 阿里云 OSS（文件存储，可选）
ALIYUN_OSS_ENABLED=false
ALIYUN_OSS_REGION=oss-cn-hangzhou
ALIYUN_OSS_ACCESS_KEY_ID=
ALIYUN_OSS_ACCESS_KEY_SECRET=
ALIYUN_OSS_BUCKET=

# CDN 加速（可选）
CDN_ENABLED=false
CDN_DOMAIN=https://cdn.your-domain.com

# --------------------------------------------
# 开发工具配置
# --------------------------------------------
# 是否启用热重载
DEV_HOT_RELOAD=true

# 是否启用调试模式
DEBUG=true

# Remotion 预览服务器端口
REMOTION_STUDIO_PORT=3002
